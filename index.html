<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop Pay Revenue Impact Model | Kasama Digital</title>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --bg: #FEDBC4;
      --bg-deep: #F5CDB0;
      --card: #FEDBC4;
      --card-border: #F0C5A8;
      --text-dark: #1A1A1A;
      --text-body: #3D3530;
      --text-muted: #7A6B62;
      --text-dim: #A09187;
      --accent-rose: #E8998D;
      --green: #3D7A35;
      --green-bright: #4A9140;
      --gold: #B0820E;
      --coral: #D4756A;
      --input-bg: rgba(255, 255, 255, 0.55);
      --input-border: rgba(0, 0, 0, 0.1);
      --divider: rgba(0, 0, 0, 0.08);
      --radius: 14px;
      --radius-sm: 8px;
      --font-serif: 'Playfair Display', Georgia, serif;
      --font-sans: 'DM Sans', -apple-system, sans-serif;
      --font-card-title: 'Libre Baskerville', Georgia, serif;
      --font-card-body: 'Space Grotesk', sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text-body);
      min-height: 100vh;
      overflow-x: hidden;
    }

    .container {
      max-width: 1140px;
      margin: 0 auto;
      padding: 48px 24px 80px;
    }

    /* ─── HEADER ─── */
    .header {
      text-align: center;
      margin-bottom: 56px;
    }

    .header .brand {
      font-family: var(--font-sans);
      font-weight: 600;
      font-size: 11px;
      letter-spacing: 3.5px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeUp 0.6s ease forwards 0.1s;
    }

    .header h1 {
      font-family: var(--font-serif);
      font-weight: 400;
      font-size: clamp(30px, 5vw, 50px);
      line-height: 1.2;
      color: var(--text-dark);
      margin-bottom: 16px;
      opacity: 0;
      animation: fadeUp 0.6s ease forwards 0.25s;
    }

    .header h1 em {
      font-style: italic;
    }

    .header .subtitle {
      font-family: 'Space Grotesk' !important;
      font-size: 16px;
      font-weight: 400;
      color: var(--text-muted);
      max-width: 560px;
      margin: 0 auto;
      line-height: 1.7;
      opacity: 0;
      animation: fadeUp 0.6s ease forwards 0.4s;
    }

    /* ─── LAYOUT ─── */
    .main-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      align-items: start;
      opacity: 0;
      animation: fadeUp 0.7s ease forwards 0.5s;
    }

    @media (max-width: 820px) {
      .main-grid {
        grid-template-columns: 1fr;
      }
    }

    .full-width {
      margin-top: 24px;
      opacity: 0;
      animation: fadeUp 0.7s ease forwards 0.6s;
    }

    /* ─── CARDS ─── */
    .card,
    .results-card,
    .roi-card {
      background: #ffe5d3;
      border: 1px solid var(--card-border);
      border-radius: var(--radius);
      padding: 32px;
    }

    .card-title {
      font-family: 'Libre Baskerville' !important;
      font-size: 24px;
      font-weight: 500;
      margin-bottom: 28px;
      color: var(--text-dark);
    }

    /* ─── INPUTS ─── */
    .input-group {
      margin-bottom: 20px;
    }

    .input-group:last-child {
      margin-bottom: 0;
    }

    .input-group label {
      display: block;
      font-family: var(--font-card-body);
      font-size: 14px;
      font-weight: 500;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 7px;
    }

    .input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .input-prefix,
    .input-suffix {
      position: absolute;
      font-family: var(--font-card-body);
      font-size: 16px;
      font-weight: 400;
      color: var(--text-dim);
      pointer-events: none;
    }

    .input-prefix {
      left: 14px;
    }

    .input-suffix {
      right: 14px;
    }

    .input-wrapper input[type="text"] {
      width: 100%;
      background: var(--input-bg);
      border: 1px solid var(--input-border);
      border-radius: var(--radius-sm);
      padding: 11px 14px;
      font-family: var(--font-card-body);
      font-size: 16px;
      font-weight: 400;
      color: var(--text-dark);
      transition: border-color 0.25s, box-shadow 0.25s;
      outline: none;
    }

    .input-wrapper input[type="text"]:focus {
      border-color: var(--accent-rose);
      box-shadow: 0 0 0 3px rgba(232, 153, 141, 0.2);
    }

    .input-wrapper input.has-prefix {
      padding-left: 28px;
    }

    .input-wrapper input.has-suffix {
      padding-right: 36px;
    }

    .input-hint {
      font-family: var(--font-card-body);
      font-size: 12px;
      font-weight: 400;
      color: var(--text-dim);
      margin-top: 4px;
      line-height: 1.5;
    }

    .input-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 480px) {
      .input-row {
        grid-template-columns: 1fr;
      }
    }

    /* ─── SLIDERS ─── */
    .slider-row {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .slider-row input[type="range"] {
      flex: 1;
      -webkit-appearance: none;
      appearance: none;
      height: 5px;
      background: rgba(0, 0, 0, 0.1);
      border-radius: 3px;
      outline: none;
      cursor: pointer;
    }

    .slider-row input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: black;
      /* background: var(--accent-rose); */
      border-radius: 50%;
      border: 3px solid var(--card);
      box-shadow: 0 1px 6px rgba(232, 153, 141, 0.35);
      cursor: pointer;
      transition: transform 0.15s;
    }

    .slider-row input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.12);
    }

    .slider-row input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: var(--accent-rose);
      border-radius: 50%;
      border: 3px solid var(--card);
      cursor: pointer;
    }

    .slider-value {
      font-family: var(--font-card-body);
      font-size: 16px;
      font-weight: 500;
      color: var(--text-dark);
      min-width: 48px;
      text-align: right;
    }

    .card-divider {
      border: none;
      border-top: 1px solid var(--divider);
      margin: 24px 0;
    }

    /* ─── RESULTS ─── */
    .result-hero {
      text-align: center;
      padding: 18px 0 22px;
      margin-bottom: 22px;
      border-bottom: 1px solid var(--divider);
    }

    .result-hero .label {
      font-family: var(--font-card-body);
      font-size: 11px;
      font-weight: 500;
      letter-spacing: 1.8px;
      text-transform: uppercase;
      color: var(--green);
      margin-bottom: 10px;
    }

    .result-hero .value {
      font-family: var(--font-card-body);
      font-size: clamp(32px, 5.5vw, 46px);
      font-weight: 700;
      color: var(--green-bright);
      line-height: 1.1;
      transition: all 0.3s ease;
    }

    .result-hero .subtext {
      font-family: var(--font-card-body);
      font-size: 13px;
      font-weight: 400;
      color: var(--text-muted);
      margin-top: 8px;
    }

    .result-rows {
      display: flex;
      flex-direction: column;
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 11px 0;
      border-bottom: 1px solid var(--divider);
    }

    .result-row:last-child {
      border-bottom: none;
    }

    .result-row .rlabel {
      font-family: var(--font-card-body);
      font-size: 13px;
      font-weight: 400;
      color: var(--text-muted);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .result-row .rvalue {
      font-family: var(--font-card-body);
      font-size: 15px;
      font-weight: 500;
      color: var(--text-dark);
    }

    .result-row .rvalue.positive {
      color: var(--green-bright);
    }

    .result-row .rvalue.gold {
      color: var(--gold);
    }

    .result-row .rvalue.negative {
      color: var(--coral);
    }

    .dot {
      display: inline-block;
      width: 7px;
      height: 7px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .dot.warm {
      background: var(--accent-rose);
    }

    .dot.green {
      background: var(--green-bright);
    }

    .dot.gold {
      background: var(--gold);
    }

    .dot.coral {
      background: var(--coral);
    }

    /* ─── ROI TABLE ─── */
    .roi-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'Space Grotesk' !important;
      font-size: 16px;
    }

    .roi-table th {
      text-align: right;
      padding: 10px 12px;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--text-muted);
      border-bottom: 2px solid var(--divider);
    }

    .roi-table th:first-child {
      text-align: left;
    }

    .roi-table td {
      padding: 9px 12px;
      text-align: right;
      color: var(--text-dark);
      font-weight: 400;
      border-bottom: 1px solid var(--divider);
    }

    .roi-table td:first-child {
      text-align: left;
      color: var(--text-muted);
    }

    .roi-table .section-header td {
      font-weight: 600;
      color: var(--text-dark);
      padding-top: 16px;
      border-bottom: none;
    }

    .roi-table .total-row td {
      font-weight: 600;
      border-top: 2px solid rgba(0, 0, 0, 0.12);
      color: var(--text-dark);
    }

    .roi-table .positive {
      color: var(--green-bright);
    }

    .roi-table .negative {
      color: var(--coral);
    }

    .roi-table .highlight {
      font-weight: 700;
      font-size: 15px;
    }

    /* ─── SUMMARY BOXES ─── */
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-top: 24px;
    }

    @media (max-width: 600px) {
      .summary-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    .summary-box {
      background: rgba(255, 255, 255, 0.35);
      border: 1px solid var(--card-border);
      border-radius: 10px;
      padding: 16px;
      text-align: center;
    }

    .summary-box .sb-label {
      font-family: var(--font-card-body);
      font-size: 10px;
      font-weight: 500;
      letter-spacing: 1.2px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .summary-box .sb-value {
      font-family: var(--font-card-body);
      font-size: 24px;
      font-weight: 700;
      color: var(--green-bright);
    }

    .summary-box .sb-value.gold-val {
      color: var(--gold);
    }

    /* ─── ASSUMPTIONS ─── */
    .assumptions {
      margin-top: 24px;
      padding: 18px 24px;
      background: #fed8bdd9;
      border: 1px solid rgba(0, 0, 0, 0.06);
      border-radius: 10px;
      opacity: 0;
      animation: fadeUp 0.6s ease forwards 0.7s;
    }

    .assumptions h3 {
      font-family: var(--font-card-body);
      font-weight: 600;
      letter-spacing: 1.8px;
      text-transform: uppercase;
      color: var(--text-dim);
      margin-bottom: 8px;
    }

    .assumptions p {
      font-size: 14px;
      color: var(--text-muted);
      line-height: 1.7;
    }

    /* ─── FOOTER ─── */
    .footer {
      text-align: center;
      margin-top: 3rem;
      opacity: 0;
      animation: fadeUp 0.6s ease forwards 0.8s;
    }

    .footer a {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-family: 'Space Grotesk';
      font-size: 16px;
      color: var(--text-dark);
      background: transparent;
      text-decoration: none;
      margin: 2rem 0;
      padding: 12px 28px;
      border: 1.5px solid var(--text-dark);
      border-radius: 50px;
      transition: all 0.25s;
    }

    .footer a:hover {
      background: var(--text-dark);
      color: var(--bg);
    }

    .footer .tagline {
      font-family: 'Libre Baskerville' !important;
      font-size: 24px;
      color: var(--text-dark);
    }

    .footer .credit {
      font-size: 14px;
      color: var(--text-dim);
      margin-top: 6px;
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(16px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .logo-header-container {
      padding: 1rem;
      position: fixed;
      display: flex;
      justify-content: flex-start;
      top: 0;
      left: 0;
      z-index: 1000;
      width: 100%;
      background-color: rgb(254, 239, 219);
      transition: backdrop-filter 0.3s ease, background-color 0.3s ease;
    }

    /* When NOT at the top */
    .logo-header-container.scrolled {
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      /* Safari */
      background-color: rgba(254, 239, 219, 0.85);
      /* Slight transparency needed for blur */
    }

    .site-title {
      font-family: 'Libre Baskerville' !important;
    }
  </style>
</head>

<body style="background-color:rgb(254, 239, 219) ;">
  <div class="container">
    <div class="logo-header-container">
      <a href="https://kasamadigital.com/" target="_blank" class="logo-header">
        <img src="./logo.png" alt="logo" width="86px">
      </a>
    </div>
    <div class="header" style="margin-top: 5rem;">
      <h1 class="site-title">Shop Pay <em>Revenue Impact</em> Model</h1>
      <p class="subtitle" style="margin-top: 4rem;">Enter your storefront metrics below to model the revenue, margin,
        and 3-year ROI impact of
        adding Shop Pay Commerce components to your ecommerce site.</p>
    </div>

    <div class="main-grid">

      <!-- LEFT: INPUTS -->
      <div>
        <div class="card">
          <div class="card-title">Your Storefront Metrics</div>

          <div class="input-group">
            <label>Annual D2C Online GMV</label>
            <div class="input-wrapper">
              <span class="input-prefix">$</span>
              <input type="text" id="annualGMV" value="0" class="has-prefix" oninput="calculate()" />
            </div>
            <div class="input-hint">Gross merchandise value over 12 months</div>
          </div>

          <div class="input-group">
            <label>Monthly Average Sessions</label>
            <div class="input-wrapper">
              <input type="text" id="sessions" value="0" oninput="calculate()" />
            </div>
          </div>

          <div class="input-row">
            <div class="input-group">
              <label>Conversion Rate (Today)</label>
              <div class="input-wrapper">
                <input type="text" id="convRate" value="0" class="has-suffix" oninput="calculate()" />
                <span class="input-suffix">%</span>
              </div>
            </div>
            <div class="input-group">
              <label>Average Order Value</label>
              <div class="input-wrapper">
                <span class="input-prefix">$</span>
                <input type="text" id="aov" value="0" class="has-prefix" oninput="calculate()" />
              </div>
            </div>
          </div>

          <div class="input-row">
            <div class="input-group">
              <label>Operating Margin</label>
              <div class="input-wrapper">
                <input type="text" id="opMargin" value="0" class="has-suffix" oninput="calculate()" />
                <span class="input-suffix">%</span>
              </div>
            </div>
            <div class="input-group">
              <label>Current Processing Rate</label>
              <div class="input-wrapper">
                <input type="text" id="processingRate" value="0" class="has-suffix" oninput="calculate()" />
                <span class="input-suffix">%</span>
              </div>
              <div class="input-hint">Total fees divided by gross volume</div>
            </div>
          </div>

          <hr class="card-divider" />

          <div class="input-group">
            <label>Shop Pay Transactions %</label>
            <div class="slider-row">
              <input type="range" id="shopPayPct" min="5" max="60" value="20" oninput="calculate()" />
              <span class="slider-value" id="shopPayPctVal">20%</span>
            </div>
            <div class="input-hint">Shop Pay adoption is typically between 15%–20%</div>
          </div>

          <div class="input-group">
            <label>Checkout Conversion Uplift %</label>
            <div class="slider-row">
              <input type="range" id="convUplift" min="1" max="10" value="4" oninput="calculate()" />
              <span class="slider-value" id="convUpliftVal">4%</span>
            </div>
            <div class="input-hint">Shop Pay can drive up to 5% lift in lower funnel conversion</div>
          </div>

          <div class="input-group">
            <label>Checkout AOV Uplift %</label>
            <div class="slider-row">
              <input type="range" id="aovUplift" min="1" max="25" value="15" oninput="calculate()" />
              <span class="slider-value" id="aovUpliftVal">15%</span>
            </div>
            <div class="input-hint">Shop Pay purchases typically have 15% higher AOV</div>
          </div>

          <hr class="card-divider" />

          <div class="input-row">
            <div class="input-group">
              <label>Implementation Cost</label>
              <div class="input-wrapper">
                <span class="input-prefix">$</span>
                <input type="text" id="implCost" value="0" class="has-prefix" oninput="calculate()" />
              </div>
              <div class="input-hint">One-time implementation estimate</div>
            </div>
            <div class="input-group">
              <label>Implementation Time</label>
              <div class="input-wrapper">
                <input type="text" id="implMonths" value="8" class="has-suffix" oninput="calculate()" />
                <span class="input-suffix">wk</span>
              </div>
              <div class="input-hint">Weeks to go live</div>
            </div>
          </div>

        </div>
      </div>

      <!-- RIGHT: RESULTS -->
      <div>
        <div class="results-card">
          <div class="card-title">Value Calculation</div>

          <div class="result-hero">
            <div class="label">Total Revenue Uplift from Shop Pay</div>
            <div class="value" id="heroRevenue">$0</div>
            <div class="subtext" id="heroMargin">Margin impact: $0</div>
          </div>

          <div class="result-rows">
            <div class="result-row">
              <span class="rlabel"><span class="dot warm"></span> Conversion Rate (Today)</span>
              <span class="rvalue" id="dispConvToday">0%</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot green"></span> Conversion Rate (Future)</span>
              <span class="rvalue positive" id="dispConvFuture">0%</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot green"></span> New Annual Customers</span>
              <span class="rvalue positive" id="dispNewCust">0</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot warm"></span> AOV (Today)</span>
              <span class="rvalue" id="dispAovToday">$0</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot green"></span> AOV (Future)</span>
              <span class="rvalue positive" id="dispAovFuture">$0</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot gold"></span> Shop Pay Annual Pricing</span>
              <span class="rvalue gold" id="dispSpccPricing">$0</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot coral"></span> Shop Pay Cost Difference (net)</span>
              <span class="rvalue negative" id="dispCostDiff">$0</span>
            </div>
            <div class="result-row">
              <span class="rlabel"><span class="dot green"></span> Operating Margin Impact</span>
              <span class="rvalue positive" id="dispMarginImpact">$0</span>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- 3-YEAR ROI ANALYSIS -->
    <div class="full-width">
      <div class="roi-card">
        <div class="card-title">3-Year Summary & ROI Analysis</div>

        <div class="summary-grid">
          <div class="summary-box">
            <div class="sb-label">3-Year ROI</div>
            <div class="sb-value" id="sum3yrROI">0x</div>
          </div>
          <div class="summary-box">
            <div class="sb-label">NPV (10%)</div>
            <div class="sb-value gold-val" id="sumNPV">$0</div>
          </div>
          <div class="summary-box">
            <div class="sb-label">Net Benefits</div>
            <div class="sb-value" id="sumNetBen">$0</div>
          </div>
          <div class="summary-box">
            <div class="sb-label">Payback Period</div>
            <div class="sb-value gold-val" id="sumPayback">0 mo</div>
          </div>
        </div>
        <div style="overflow-x: auto;">
          <table class="roi-table" style="margin-top:28px;">
            <thead>
              <tr>
                <th style="width:40%"></th>
                <th>Steady State</th>
                <th>Year 1</th>
                <th>Year 2</th>
                <th>Year 3</th>
                <th>Total</th>
              </tr>
            </thead>
            <tbody>
              <tr class="section-header">
                <td colspan="6">Benefits</td>
              </tr>
              <tr>
                <td>Revenue Uplift (Margin $M)</td>
                <td id="roiBenSS">—</td>
                <td id="roiBenY1">—</td>
                <td id="roiBenY2">—</td>
                <td id="roiBenY3">—</td>
                <td id="roiBenTotal" class="positive">—</td>
              </tr>
              <tr class="total-row">
                <td>Total Benefits</td>
                <td id="roiBenTotalSS">—</td>
                <td id="roiBenTotalY1">—</td>
                <td id="roiBenTotalY2">—</td>
                <td id="roiBenTotalY3">—</td>
                <td id="roiBenTotalAll" class="positive">—</td>
              </tr>

              <tr class="section-header">
                <td colspan="6">Costs</td>
              </tr>
              <tr>
                <td>One-Time Implementation</td>
                <td></td>
                <td id="roiImplY1" class="negative">—</td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
              <tr class="total-row">
                <td>Total Costs</td>
                <td></td>
                <td id="roiCostY1" class="negative">—</td>
                <td id="roiCostY2" class="negative">—</td>
                <td id="roiCostY3" class="negative">—</td>
                <td></td>
              </tr>

              <tr class="section-header">
                <td colspan="6">Analysis</td>
              </tr>
              <tr>
                <td>Net Benefits</td>
                <td></td>
                <td id="roiNetY1">—</td>
                <td id="roiNetY2">—</td>
                <td id="roiNetY3">—</td>
                <td></td>
              </tr>
              <tr>
                <td>Cumulative Net Benefits</td>
                <td></td>
                <td id="roiCumNetY1">—</td>
                <td id="roiCumNetY2">—</td>
                <td id="roiCumNetY3">—</td>
                <td></td>
              </tr>
              <tr>
                <td>Annualized ROI</td>
                <td></td>
                <td id="roiAnnY1">—</td>
                <td id="roiAnnY2">—</td>
                <td id="roiAnnY3">—</td>
                <td></td>
              </tr>
              <tr>
                <td>Cumulative ROI</td>
                <td></td>
                <td id="roiCumY1">—</td>
                <td id="roiCumY2">—</td>
                <td id="roiCumY3">—</td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="assumptions" style="opacity:1;animation:none;">
      <h3>Methodology</h3>
      <p>
        Conversion uplift applied as: Future CR = Today CR × (1 + Uplift %). AOV uplift applied as: Future AOV = Today
        AOV × (1 + AOV Uplift %).
        New annual customers = Monthly Sessions × 12 × (Future CR − Today CR). Revenue uplift = New Customers × Future
        AOV.
        Shop Pay annual pricing = 3.4% × (Shop Pay % × GMV) + $0.30 × (GMV / AOV × Shop Pay %).
        Cost difference = Shop Pay pricing − (current processing rate × GMV × Shop Pay %).
        Year 1 benefits prorated by implementation time: (12 − impl weeks ÷ 4.33) / 12.
        NPV calculated at 10% discount rate. All figures in $M where noted.
      </p>
    </div>

    <div class="footer">
      <a href="https://www.kasamadigital.com/contact" target="_blank">Let's work together &nbsp;&rarr;</a>
      <div class="tagline">Commerce moves fast. We move faster.</div>
      <div class="credit">kasamadigital.com &nbsp;&bull;&nbsp; Boston &bull; Dallas &bull; Manila</div>
    </div>

  </div>

  <script>
    function parseNum(s) { return parseFloat(s.replace(/[^0-9.\-]/g, '')) || 0; }

    function fmtM(n) {
      if (Math.abs(n) < 0.001) return '$0.00M';
      return (n < 0 ? '-' : '') + '$' + Math.abs(n).toFixed(3) + 'M';
    }
    function fmtDollar(n) {
      if (Math.abs(n) >= 1e6) return (n < 0 ? '-' : '') + '$' + (Math.abs(n) / 1e6).toFixed(2) + 'M';
      return (n < 0 ? '-' : '') + '$' + Math.abs(Math.round(n)).toLocaleString('en-US');
    }
    function fmtPct(n) { return (n * 100).toFixed(2) + '%'; }
    function fmtK(n) { return Math.round(n).toLocaleString('en-US'); }
    function fmtRoi(n) { return (n * 100).toFixed(0) + '%'; }

    function calculate() {
      // ─── READ INPUTS ───
      const gmv = parseNum(document.getElementById('annualGMV').value);
      const sessions = parseNum(document.getElementById('sessions').value);
      const convRate = parseFloat(document.getElementById('convRate').value) / 100 || 0;
      const aov = parseNum(document.getElementById('aov').value);
      const opMargin = parseFloat(document.getElementById('opMargin').value) / 100 || 0;
      const procRate = parseFloat(document.getElementById('processingRate').value) / 100 || 0;
      const shopPayPct = parseInt(document.getElementById('shopPayPct').value) / 100;
      const convUplift = parseInt(document.getElementById('convUplift').value) / 100;
      const aovUpliftPct = parseInt(document.getElementById('aovUplift').value) / 100;
      const implCost = parseNum(document.getElementById('implCost').value);
      const implWeeks = parseFloat(document.getElementById('implMonths').value) || 0;
      const implMonths = implWeeks / 4.333;  // convert weeks to months

      // Update slider displays
      document.getElementById('shopPayPctVal').textContent = Math.round(shopPayPct * 100) + '%';
      document.getElementById('convUpliftVal').textContent = Math.round(convUplift * 100) + '%';
      document.getElementById('aovUpliftVal').textContent = Math.round(aovUpliftPct * 100) + '%';

      // ─── SHOPIFY COSTS ───
      // Shop Pay Annual Pricing = 3.38% × (Shop Pay % × GMV) + $0.30 × ((GMV / AOV) × Shop Pay %)
      const spccVolume = shopPayPct * gmv;
      const spccTransactions = aov > 0 ? (gmv / aov) * shopPayPct : 0;
      const spccAnnualPricing = 0.034 * spccVolume + 0.30 * spccTransactions;

      // Shop Pay Cost Difference = Shop Pay Pricing - (Current Processing Rate × GMV × Shop Pay %)
      const currentProcCostOnSP = procRate * gmv * shopPayPct;
      const spccCostDiff = spccAnnualPricing - currentProcCostOnSP;

      // ─── VALUE CALCULATION (matches Shopify's exact formulas) ───
      const convFuture = convRate * (1 + convUplift);
      const newCustomers = sessions * 12 * (convFuture - convRate);
      const aovFuture = aov * (1 + aovUpliftPct);
      const totalRevenueUplift = newCustomers * aovFuture;
      const marginImpact = totalRevenueUplift * opMargin;

      // ─── ROI ANALYSIS (matches ROI Analysis sheet exactly) ───
      const steadyStateM = marginImpact / 1e6;
      const yr1Pct = Math.max(0, (12 - implMonths) / 12);

      const benY1 = steadyStateM * yr1Pct;
      const benY2 = steadyStateM * 1;
      const benY3 = steadyStateM * 1;
      const benTotal = benY1 + benY2 + benY3;

      const platCostM = -(spccCostDiff / 1e6);  // negative
      const implCostM = -(implCost / 1e6);       // negative

      const costY1 = platCostM + implCostM;
      const costY2 = platCostM;
      const costY3 = platCostM;

      const netY1 = benY1 + costY1;
      const netY2 = benY2 + costY2;
      const netY3 = benY3 + costY3;

      const cumNetY1 = netY1;
      const cumNetY2 = cumNetY1 + netY2;
      const cumNetY3 = cumNetY2 + netY3;

      const cumCostY1 = costY1;
      const cumCostY2 = cumCostY1 + costY2;
      const cumCostY3 = cumCostY2 + costY3;

      const annRoiY1 = costY1 !== 0 ? -(netY1 / costY1) : 0;
      const annRoiY2 = costY2 !== 0 ? -(netY2 / costY2) : 0;
      const annRoiY3 = costY3 !== 0 ? -(netY3 / costY3) : 0;

      const cumRoiY1 = cumCostY1 !== 0 ? -(cumNetY1 / cumCostY1) : 0;
      const cumRoiY2 = cumCostY2 !== 0 ? -(cumNetY2 / cumCostY2) : 0;
      const cumRoiY3 = cumCostY3 !== 0 ? -(cumNetY3 / cumCostY3) : 0;

      // Payback: if(cumNetY1>0, (-costY1/benY1)*12, 12) + similar for Y2, Y3
      let paybackY1 = 0, paybackY2 = 0, paybackY3 = 0;
      if (benY1 > 0) {
        paybackY1 = cumNetY1 > 0 ? (-costY1 / benY1) * 12 : 12;
      }
      if (cumNetY1 < 0 && cumNetY2 > 0) {
        paybackY2 = (-cumNetY1 / netY2) * 12;
      } else if (cumNetY2 < 0) {
        paybackY2 = 12;
      }
      if (cumNetY2 < 0 && cumNetY3 > 0) {
        paybackY3 = (-cumNetY2 / netY3) * 12;
      } else if (cumNetY3 < 0) {
        paybackY3 = 12;
      }
      const totalPayback = paybackY1 + paybackY2 + paybackY3;

      // NPV at 10%
      const npv = netY1 / 1.1 + netY2 / (1.1 * 1.1) + netY3 / (1.1 * 1.1 * 1.1);

      const totalCosts3yr = -(cumCostY3);
      const netBenefits3yr = cumNetY3;
      const roi3yr = totalCosts3yr > 0 ? netBenefits3yr / totalCosts3yr : 0;

      // ─── UPDATE UI: Value Calculation ───
      document.getElementById('heroRevenue').textContent = fmtDollar(totalRevenueUplift);
      document.getElementById('heroMargin').textContent = 'Margin impact: ' + fmtDollar(marginImpact);
      document.getElementById('dispConvToday').textContent = (convRate * 100).toFixed(2) + '%';
      document.getElementById('dispConvFuture').textContent = (convFuture * 100).toFixed(2) + '%';
      document.getElementById('dispNewCust').textContent = fmtK(newCustomers);
      document.getElementById('dispAovToday').textContent = fmtDollar(aov);
      document.getElementById('dispAovFuture').textContent = fmtDollar(aovFuture);
      document.getElementById('dispSpccPricing').textContent = fmtDollar(spccAnnualPricing) + '/yr';
      document.getElementById('dispCostDiff').textContent = fmtDollar(spccCostDiff) + '/yr';
      document.getElementById('dispMarginImpact').textContent = fmtDollar(marginImpact) + '/yr';

      // ─── UPDATE UI: ROI Table ───
      document.getElementById('roiBenSS').textContent = fmtM(steadyStateM);
      document.getElementById('roiBenY1').textContent = fmtM(benY1);
      document.getElementById('roiBenY2').textContent = fmtM(benY2);
      document.getElementById('roiBenY3').textContent = fmtM(benY3);
      document.getElementById('roiBenTotal').textContent = fmtM(benTotal);

      document.getElementById('roiBenTotalSS').textContent = fmtM(steadyStateM);
      document.getElementById('roiBenTotalY1').textContent = fmtM(benY1);
      document.getElementById('roiBenTotalY2').textContent = fmtM(benY2);
      document.getElementById('roiBenTotalY3').textContent = fmtM(benY3);
      document.getElementById('roiBenTotalAll').textContent = fmtM(benTotal);

      document.getElementById('roiImplY1').textContent = implCost > 0 ? fmtM(implCostM) : '$0.00M';

      document.getElementById('roiCostY1').textContent = fmtM(costY1);
      document.getElementById('roiCostY2').textContent = fmtM(costY2);
      document.getElementById('roiCostY3').textContent = fmtM(costY3);

      document.getElementById('roiNetY1').textContent = fmtM(netY1);
      document.getElementById('roiNetY2').textContent = fmtM(netY2);
      document.getElementById('roiNetY3').textContent = fmtM(netY3);

      document.getElementById('roiCumNetY1').textContent = fmtM(cumNetY1);
      document.getElementById('roiCumNetY2').textContent = fmtM(cumNetY2);
      document.getElementById('roiCumNetY3').textContent = fmtM(cumNetY3);

      document.getElementById('roiAnnY1').textContent = fmtRoi(annRoiY1);
      document.getElementById('roiAnnY2').textContent = fmtRoi(annRoiY2);
      document.getElementById('roiAnnY3').textContent = fmtRoi(annRoiY3);

      document.getElementById('roiCumY1').textContent = fmtRoi(cumRoiY1);
      document.getElementById('roiCumY2').textContent = fmtRoi(cumRoiY2);
      document.getElementById('roiCumY3').textContent = fmtRoi(cumRoiY3);

      // ─── UPDATE UI: Summary Boxes ───
      document.getElementById('sum3yrROI').textContent = roi3yr.toFixed(1) + 'x';
      document.getElementById('sumNPV').textContent = fmtM(npv);
      document.getElementById('sumNetBen').textContent = fmtM(netBenefits3yr);
      document.getElementById('sumPayback').textContent = totalPayback > 0 ? totalPayback.toFixed(1) + ' mo' : '—';
    }
    const header = document.querySelector('.logo-header-container');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 0) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }
    });
    calculate();
  </script>
</body>

</html>